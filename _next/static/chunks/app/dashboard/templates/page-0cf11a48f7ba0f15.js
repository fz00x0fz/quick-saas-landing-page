(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[123],{64572:function(e,t,r){Promise.resolve().then(r.bind(r,53710))},53710:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var s=r(57437),a=r(86110),n=r(93023),i=r(51908),l=r(2265),d=r(39311);let o=l.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});o.displayName="Textarea";var c=r(71424),u=r(58094),f=r(29155),m=r(67579);function x(e){var t,r;let{template:d}=e,[x,p]=(0,l.useState)(null!==(t=null==d?void 0:d.name)&&void 0!==t?t:""),[g,h]=(0,l.useState)((null==d?void 0:d.description)||""),[v,b]=(0,l.useState)((null==d?void 0:d.content)||""),[j,N]=(0,l.useState)((null==d?void 0:d.category)||""),[y,w]=(0,l.useState)(null!==(r=null==d?void 0:d.variables)&&void 0!==r?r:[]),[C,S]=(0,l.useState)(""),[k,R]=(0,l.useState)({});(0,l.useEffect)(()=>{d&&(p(d.name),h(d.description||""),b(d.content),N(d.category||""),w(d.variables||[]),R({}))},[d]);let T=()=>{C&&!y.includes(C)&&(w([...y,C]),S(""))},z=e=>{w(y.filter(t=>t!==e))};return d?(0,s.jsxs)(a.Zb,{className:"p-6",children:[(0,s.jsxs)(m.Tabs,{defaultValue:"edit",className:"space-y-4",children:[(0,s.jsxs)(m.TabsList,{children:[(0,s.jsx)(m.TabsTrigger,{value:"edit",children:"编辑"}),(0,s.jsx)(m.TabsTrigger,{value:"preview",children:"预览"})]}),(0,s.jsxs)(m.TabsContent,{value:"edit",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"模板名称"}),(0,s.jsx)(i.I,{placeholder:"输入模板名称",value:x,onChange:e=>p(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"分类"}),(0,s.jsxs)(u.Ph,{value:j,onValueChange:N,children:[(0,s.jsx)(u.i4,{children:(0,s.jsx)(u.ki,{placeholder:"选择分类"})}),(0,s.jsxs)(u.Bw,{children:[(0,s.jsx)(u.Ql,{value:"客服",children:"客服"}),(0,s.jsx)(u.Ql,{value:"营销",children:"营销"}),(0,s.jsx)(u.Ql,{value:"技术",children:"技术"}),(0,s.jsx)(u.Ql,{value:"其他",children:"其他"})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"描述"}),(0,s.jsx)(o,{placeholder:"输入模板描述",value:g,onChange:e=>h(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"变量"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(i.I,{placeholder:"添加变量 (例如: name)",value:C,onChange:e=>S(e.target.value),onKeyPress:e=>"Enter"===e.key&&T()}),(0,s.jsx)(n.z,{onClick:T,children:"添加"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:y.map(e=>(0,s.jsxs)(f.C,{variant:"secondary",className:"cursor-pointer",onClick:()=>z(e),children:[e," \xd7"]},e))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"内容"}),(0,s.jsx)(o,{placeholder:"输入模板内容，使用 {{变量名}} 插入变量",value:v,onChange:e=>b(e.target.value),className:"min-h-[200px] font-mono"})]})]}),(0,s.jsxs)(m.TabsContent,{value:"preview",className:"space-y-4",children:[(0,s.jsx)("div",{className:"grid gap-4",children:y.map(e=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:e}),(0,s.jsx)(i.I,{placeholder:"输入 ".concat(e," 的值"),value:k[e]||"",onChange:t=>R({...k,[e]:t.target.value})})]},e))}),(0,s.jsx)("div",{className:"p-4 border rounded-lg bg-muted",children:(0,s.jsx)("pre",{className:"whitespace-pre-wrap",children:v.replace(/{{(\w+)}}/g,(e,t)=>k[t]||e)})})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2 mt-4",children:[(0,s.jsx)(n.z,{variant:"outline",onClick:()=>{let e=v;Object.entries(k).forEach(t=>{let[r,s]=t;e=e.replace(RegExp("{{".concat(r,"}}"),"g"),s)}),c.Am.info("预览功能开发中")},children:"生成结果"}),(0,s.jsx)(n.z,{onClick:()=>{if(!x||!v){c.Am.error("请填写必要字段");return}c.Am.success("模板已保存")},children:"保存更改"})]})]}):(0,s.jsx)(a.Zb,{className:"p-6",children:(0,s.jsx)("div",{className:"text-center text-muted-foreground",children:"请选择要编辑的模板"})})}var p=r(9883),g=r(41827),h=r(25331);let v=l.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(h.fC,{ref:t,className:(0,d.cn)("relative overflow-hidden",r),...n,children:[(0,s.jsx)(h.l_,{className:"h-full w-full rounded-[inherit]",children:a}),(0,s.jsx)(b,{}),(0,s.jsx)(h.Ns,{})]})});v.displayName=h.fC.displayName;let b=l.forwardRef((e,t)=>{let{className:r,orientation:a="vertical",...n}=e;return(0,s.jsx)(h.gb,{ref:t,orientation:a,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...n,children:(0,s.jsx)(h.q4,{className:"relative flex-1 rounded-full bg-border"})})});b.displayName=h.gb.displayName;let j=[{id:"1",name:"客服回复模板",description:"用于快速回复客户常见问题",category:"客服",content:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",name:"产品介绍模板",description:"介绍产品特性和优势",category:"营销",content:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3",name:"技术文档模板",description:"API文档和技术说明",category:"技术",content:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];function N(e){let{onSelect:t,selectedId:r}=e,[d,o]=(0,l.useState)(""),[c,u]=(0,l.useState)(j),f=c.filter(e=>{var t;return e.name.toLowerCase().includes(d.toLowerCase())||((null===(t=e.description)||void 0===t?void 0:t.toLowerCase())||"").includes(d.toLowerCase())});return(0,s.jsxs)(a.Zb,{className:"h-[calc(100vh-12rem)]",children:[(0,s.jsxs)(a.Ol,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(a.ll,{children:"提示词模板"}),(0,s.jsxs)(n.z,{size:"sm",onClick:()=>{let e={id:Math.random().toString(36).substr(2,9),name:"新模板",description:"请编辑此模板",category:"其他",content:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};u([...c,e]),t(e)},children:[(0,s.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"新建"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(g.Z,{className:"w-4 h-4 text-muted-foreground"}),(0,s.jsx)(i.I,{placeholder:"搜索模板...",value:d,onChange:e=>o(e.target.value),className:"h-8"})]})]}),(0,s.jsx)(a.aY,{children:(0,s.jsx)(v,{className:"h-[calc(100vh-16rem)]",children:(0,s.jsx)("div",{className:"space-y-2",children:f.map(e=>(0,s.jsxs)("div",{className:"p-3 rounded-lg cursor-pointer transition-colors ".concat(r===e.id?"bg-primary text-primary-foreground":"hover:bg-muted"),onClick:()=>t(e),children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-sm ".concat(r===e.id?"text-primary-foreground":"text-muted-foreground"),children:e.description}),(0,s.jsx)("div",{className:"text-xs mt-1 ".concat(r===e.id?"text-primary-foreground":"text-muted-foreground"),children:e.category})]},e.id))})})})]})}function y(){var e;let[t,r]=(0,l.useState)(null);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Template Management"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)(N,{onSelect:r,selectedId:null!==(e=null==t?void 0:t.id)&&void 0!==e?e:null})}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsx)(x,{template:t})})]})]})}},29155:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var s=r(57437);r(2265);var a=r(39213),n=r(39311);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:r}),t),...a})}},93023:function(e,t,r){"use strict";r.d(t,{d:function(){return d},z:function(){return o}});var s=r(57437),a=r(2265),n=r(67256),i=r(39213),l=r(39311);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:o=!1,...c}=e,u=o?n.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(d({variant:a,size:i,className:r})),ref:t,...c})});o.displayName="Button"},86110:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return c},eW:function(){return u},ll:function(){return d}});var s=r(57437),a=r(2265),n=r(39311);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},51908:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var s=r(57437),a=r(2265),n=r(39311);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},58094:function(e,t,r){"use strict";r.d(t,{Bw:function(){return p},Ph:function(){return c},Ql:function(){return h},i4:function(){return f},ki:function(){return u}});var s=r(57437),a=r(2265),n=r(20942),i=r(83523),l=r(9224),d=r(62442),o=r(39311);let c=n.fC;n.ZA;let u=n.B4,f=a.forwardRef((e,t)=>{let{className:r,children:a,...l}=e;return(0,s.jsxs)(n.xz,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[a,(0,s.jsx)(n.JO,{asChild:!0,children:(0,s.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=n.xz.displayName;let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})});m.displayName=n.u_.displayName;let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})});x.displayName=n.$G.displayName;let p=a.forwardRef((e,t)=>{let{className:r,children:a,position:i="popper",...l}=e;return(0,s.jsx)(n.h_,{children:(0,s.jsxs)(n.VY,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:i,...l,children:[(0,s.jsx)(m,{}),(0,s.jsx)(n.l_,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(x,{})]})})});p.displayName=n.VY.displayName;let g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})});g.displayName=n.__.displayName;let h=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(n.ck,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.wU,{children:(0,s.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(n.eT,{children:a})]})});h.displayName=n.ck.displayName;let v=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",r),...a})});v.displayName=n.Z0.displayName},67579:function(e,t,r){"use strict";r.r(t),r.d(t,{Tabs:function(){return l},TabsContent:function(){return c},TabsList:function(){return d},TabsTrigger:function(){return o}});var s=r(57437),a=r(2265),n=r(34522),i=r(39311);let l=n.fC,d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});d.displayName=n.aV.displayName;let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});o.displayName=n.xz.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});c.displayName=n.VY.displayName},39311:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(57042),a=r(74769);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}}},function(e){e.O(0,[7,127,327,862,522,819,971,864,744],function(){return e(e.s=64572)}),_N_E=e.O()}]);